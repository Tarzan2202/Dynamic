dynamic programming with ruby and javascript